<!-- Loader -->
<div class="container-fluid" ng-show="!player && !error">
    <div class="col-md-12">
        <p>Loading...</p>
    </div>
</div>

<!-- Error -->
<div class="container-fluid" ng-show="error">
    <div class="col-md-12">
        <p class="text-danger">Error loading player data!</p>
    </div>
</div>

<!-- Main Content -->
<div class="container-fluid" ng-show="player && !error">
    <!-- Header -->
    <div class="row">
        <div class="col-md-6 text-left">
            <h1 ng-bind-template="{{player.title}} {{player.name}}"></h1>
        </div>
        <div class="col-md-6 text-right">
            <h2 ng-bind-template="{{player.faction.name}} :: {{player.world.name}}"></h2>
        </div>
    </div>

    <!-- Info Bar -->
    <hr>
    <div class="row">
        <div class="col-md-2 text-center" ng-bind-template="{{player.outfit.rank}} of {{player.outfit.name}}"></div>
        <div class="col-md-2 text-center" ng-bind-template="Battle Rank: {{player.battle_rank}}"></div>
        <div class="col-md-2 text-center" ng-bind-template="Score/Hour: {{player.sph}}"></div>
        <div class="col-md-2 text-center" ng-bind-template="Kill/Death Ratio: {{player.kdr}}"></div>
        <div class="col-md-2 text-center" ng-bind-template="Created: {{player.created | date:'mediumDate'}}"></div>
        <div class="col-md-2 text-center">Status:
            <span class="text-danger" ng-show="player.isOnline === 0">Offline</span>
            <span class="text-success" ng-show="player.isOnline === 1">Online</span>
        </div>
    </div>
    <hr>

    <div class="row">
        <!-- Friends -->
        <section class="col-md-6" id="friends" ng-controller="FriendsCtrl">
            <h3>Friends</h3>
            <div class="table-responsive">
                <table class="table table-hover table-striped">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Rank</th>
                            <th>Faction</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="friend in friends | orderBy:friends.sort.order:friends.sort.reverse">
                            <td><a ng-href="#/player/{{friend.name}}/" ng-bind-template="{{friend.title.name}} {{friend.name}}"></td>
                            <td ng-bind="friend.battle_rank"></td>
                            <td ng-bind="friend.faction.name"></td>
                            <td>
                                <span class="text-success" ng-show="friend.isOnline">Online</span>
                                <span class="text-danger" ng-show="!friend.isOnline">Offline</span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Killboard -->
        <section class="col-md-6" id="killboard" ng-controller="KillboardCtrl">
            <h3>Killboard</h3>
            <div class="table-responsive">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <td>Killer</td>
                            <td>Victim</td>
                            <td>Weapon</td>
                            <td>Vehicle</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="kill in killboard" ng-class="kill.color">
                            <td ng-bind-template="{{kill.attacker.faction.tag}} {{kill.attacker.name}}"></td>
                            <td ng-bind-template="{{kill.victim.faction.tag}} {{kill.victim.name}}"></td>
                            <td ng-bind="kill.attacker.weapon"></td>
                            <td ng-bind="kill.attacker.vehicle"></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <div class="col-md-6">
            <!-- Stats -->
            <section id="stats" ng-controller="PlayerHistoryCtrl">
                <h3>Stats</h3>
                <tabset>
                    <!-- Kill/Deaths -->
                    <tab heading="Kills/Deaths" active="true" select="kdLoad()">
                        <div google-chart chart="kdDay"></div>
                        <div google-chart chart="kdWeek"></div>
                        <div google-chart chart="kdMonth"></div>
                    </tab>

                    <!-- Kill/Death Ratio -->
                    <tab heading="Kill/Death Ratio" select="kdrLoad()">
                        <div google-chart chart="kdrDay"></div>
                        <div google-chart chart="kdrWeek"></div>
                        <div google-chart chart="kdrMonth"></div>
                    </tab>

                    <!-- Certs -->
                    <tab heading="Certs" select="certsLoad()">
                        <div google-chart chart="certsDay"></div>
                        <div google-chart chart="certsWeek"></div>
                        <div google-chart chart="certsMonth"></div>
                    </tab>

                    <!-- Score Per Hour -->
                    <tab heading="Score Per Hour" select="sphLoad()">
                        <div google-chart chart="sphDay"></div>
                        <div google-chart chart="sphWeek"></div>
                        <div google-chart chart="sphMonth"></div>
                    </tab>

                    <!-- Time Played -->
                    <tab heading="Time Played" select="timeLoad()">
                        <div google-chart chart="timeDay"></div>
                        <div google-chart chart="timeWeek"></div>
                        <div google-chart chart="timeMonth"></div>
                    </tab>
                </tabset>
            </section>
        </div>
    </div>
</div>
